# -*- coding: utf-8 -*-
# create_readme.py
# This script creates a clean README.md file with the correct template and badges.
# Run it simply as: python create_readme.py

# --- CONFIGURATION ---
# Please verify these values carefully.

# 1. Your GitHub username and repository name.
GITHUB_USER = "hamedcode"
GITHUB_REPO = "port-based-v2ray-configs"

# 2. The EXACT filename of your workflow file located in the .github/workflows/ directory.
#    This is crucial for the "Actions Status" badge.
#    Example: 'main.yml', 'update.yml', etc.
WORKFLOW_FILE_NAME = "main.yml" 

# --- END OF CONFIGURATION ---


# Building the badges section with the configuration above.
badges_section = f"""
<p align="center">
  <!-- Workflow Status Badge -->
  <a href="https://github.com/{GITHUB_USER}/{GITHUB_REPO}/actions/workflows/{WORKFLOW_FILE_NAME}">
    <img src="https://img.shields.io/github/actions/workflow/status/{GITHUB_USER}/{GITHUB_REPO}/{WORKFLOW_FILE_NAME}?style=for-the-badge&logo=githubactions&logoColor=white" alt="Actions Status">
  </a>
  <!-- Last Commit Badge -->
  <a href="https://github.com/{GITHUB_USER}/{GITHUB_REPO}/commits">
    <img src="https://img.shields.io/github/last-commit/{GITHUB_USER}/{GITHUB_REPO}?style=for-the-badge&logo=git&logoColor=white" alt="Last Commit">
  </a>
  <!-- Repo Size Badge -->
  <img src="https://img.shields.io/github/repo-size/{GITHUB_USER}/{GITHUB_REPO}?style=for-the-badge&logo=github" alt="Repo Size">
  <!-- License Badge (will be red if you don't have a LICENSE file) -->
  <a href="https://github.com/{GITHUB_USER}/{GITHUB_REPO}/blob/main/LICENSE">
    <img src="https://img.shields.io/github/license/{GITHUB_USER}/{GITHUB_REPO}?style=for-the-badge" alt="License">
  </a>
  <br>
  <!-- Social Badges -->
  <img src="https://img.shields.io/github/stars/{GITHUB_USER}/{GITHUB_REPO}?style=social" alt="GitHub Stars">
  <img src="https://img.shields.io/github/forks/{GITHUB_USER}/{GITHUB_REPO}?style=social" alt="GitHub Forks">
</p>
"""

# The main template for the README.md file.
readme_template = f"""
{badges_section.strip()}

# Port-Based V2Ray Configs

This repository contains a collection of V2Ray configurations, aggregated from various public sources. The configs are automatically categorized by protocol and port using a Python script.

---

## üìä Config Stats

<!-- START-STATS -->
<!-- This section is automatically generated by the script. Do not remove. -->
<!-- END-STATS -->

---

## üîó Subscription Links

<!-- START-LINKS -->
<!-- This section is automatically generated by the script. Do not remove. -->
<!-- END-LINKS -->

---

## üìö Sources & Summary

<!-- START-SOURCES -->
<!-- This section is automatically generated by the script. Do not remove. -->
<!-- END-SOURCES -->
""".strip()

# The name of the file to be created.
file_name = "README.md"

# Writing the content to the file.
try:
    with open(file_name, "w", encoding="utf-8") as f:
        f.write(readme_template)
    # A clean success message that won't be written to the file.
    print(f"‚úÖ Successfully created '{file_name}'.")
    print("‚û°Ô∏è  You can now run your main script to populate it.")
except IOError as e:
    print(f"‚ùå Error creating file '{file_name}': {e}")
