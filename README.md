# -*- coding: utf-8 -*-
# create_readme.py
# This script creates the final README.md file, including all requested badges.
#
# HOW TO RUN:
# Run this script directly from your terminal:
# python create_readme.py

# --- Configuration ---
GITHUB_USER = "hamedcode"
GITHUB_REPO = "port-based-v2ray-configs"
WORKFLOW_FILE_NAME = "main.yml"
# --- End of Configuration ---

def generate_readme_content():
    """Builds the complete, raw text for the README.md file."""

    # Section for badges, now including all requested badges in two rows for clarity.
    badges_section = f"""
<p align="center">
  <!-- Row 1: Core Status Badges -->
  <img src="https://img.shields.io/github/actions/workflow/status/{GITHUB_USER}/{GITHUB_REPO}/{WORKFLOW_FILE_NAME}?style=for-the-badge&logo=githubactions&logoColor=white" alt="Actions Status">
  <img src="https://img.shields.io/github/deployments/{GITHUB_USER}/{GITHUB_REPO}/production?style=for-the-badge&label=Pages&logo=github" alt="GitHub Pages">
  <img src="https://img.shields.io/github/last-commit/{GITHUB_USER}/{GITHUB_REPO}?style=for-the-badge&logo=git&logoColor=white" alt="Last Commit">
  <img src="https://img.shields.io/github/license/{GITHUB_USER}/{GITHUB_REPO}?style=for-the-badge" alt="License">
  <br>
  <!-- Row 2: Stats & Social Badges -->
  <img src="https://komarev.com/ghpvc/?username={GITHUB_USER}&repo={GITHUB_REPO}&color=blue&style=for-the-badge" alt="Visitors">
  <img src="https://img.shields.io/github/created_at/{GITHUB_USER}/{GITHUB_REPO}?style=for-the-badge" alt="Repo Created">
  <img src="https://img.shields.io/github/stars/{GITHUB_USER}/{GITHUB_REPO}?style=social" alt="GitHub Stars">
  <img src="https://img.shields.io/github/forks/{GITHUB_USER}/{GITHUB_REPO}?style=social" alt="GitHub Forks">
</p>
"""

    # Section for the star prompt
    star_prompt_section = """
> [!NOTE]
> If you find this repository useful, please consider giving it a ‚≠êÔ∏è to show your support!
"""

    # The main template for the README.md file.
    readme_template = f"""
{badges_section.strip()}

# Port-Based V2Ray Configs

This repository contains a collection of V2Ray configurations, aggregated from various public sources. The configs are automatically categorized by protocol and port using a Python script.

{star_prompt_section.strip()}

---

## üìä Config Stats

<!-- START-STATS -->
<!-- This section is automatically generated by the script. Do not remove. -->
<!-- END-STATS -->

---

## üîó Subscription Links

<!-- START-LINKS -->
<!-- This section is automatically generated by the script. Do not remove. -->
<!-- END-LINKS -->

---

## üìö Sources & Summary

<!-- START-SOURCES -->
<!-- This section is automatically generated by the script. Do not remove. -->
<!-- END-SOURCES -->
""".strip()

    return readme_template

def main():
    """The main function to write the file."""
    file_name = "README.md"
    readme_content = generate_readme_content()
    
    try:
        with open(file_name, "w", encoding="utf-8") as f:
            f.write(readme_content)
        print(f"‚úÖ Successfully created '{file_name}' with all the new badges.")
        print("‚û°Ô∏è  You can now run 'categorize_all_protocols.py' to populate it.")
    except IOError as e:
        print(f"‚ùå Error creating file '{file_name}': {e}")

if __name__ == "__main__":
    main()
